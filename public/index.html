<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bremma Arcade</title>

  <!-- 8‑bit font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
    rel="stylesheet"
  />

  <!-- your neon‑arcade styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="arcade-container">
    <!-- USERNAME PROMPT OVERLAY -->
    <div class="username-prompt" id="usernamePrompt">
          <!-- HEADER -->
    <header>
      <h1>WELCOME<br><br>RIMMER</h1>
      <p>Get ready to play!</p>
    </header>

    <div class="sprite-container">
      <video
        class="sprite"
        src="assets/retro.mp4"
        autoplay
        loop
        muted
        playsinline
      ></video>
    </div>

      <div class="prompt-content">
        <label for="usernameInput">ENTER YOUR NAME:</label>
        <input
          type="text"
          id="usernameInput"
          name="username"
          required
          placeholder="PLAYER 1"
        />
        <!-- Note: type="button" so it doesn't reload the page -->
        <button
          id="startGame"
          type="button"
          class="arcade-button"
        >
          START
        </button>
        <div class="game-rules">
          <p>Munch 5 peaches to win the game.</p>
          <p>Don't get caught by Emma or you will lose 1 ring!</p>
          <p>You have 3 rings (lives) in total</p>
          <p>Emmas will start spitting fireballs after eating 2 peach!</p>
          <p>Keep arrows pressed to move around.</p>
        </div>
      </div>
    </div>


    <!-- LOOPING SPRITE (VIDEO) -->


    <!-- GAME AREA (hidden until you click START) -->
    <div class="game-container" id="gameContainer">
      <canvas id="gameCanvas"></canvas>
      
      <!-- Add mobile-hidden class to control panel so it can be hidden via CSS as well -->
      <div class="control-panel mobile-hidden">
        <!-- You can keep the button elements here since our JS will hide them,
             but adding the mobile-hidden class ensures they're hidden via CSS too -->
        <button id="upBtn" class="control-btn">↑</button>
        <div class="horizontal-controls">
          <button id="leftBtn" class="control-btn">←</button>
          <button id="rightBtn" class="control-btn">→</button>
        </div>
        <button id="downBtn" class="control-btn">↓</button>
      </div>
    </div>
  </div>

  <!-- Custom Win Popup -->
  <div id="winPopup" class="game-popup">
    <div class="popup-content">
      <h2>YOU WON!</h2>
      <p>Congratulations you little rimmer, you rimmed good!</p>
      <div class="message-form">
        <label for="customMessage">Enter a custom message to send to Brendon and Emma!</label>
        <textarea id="customMessage" placeholder="Rim rim Brendon! It's wedding timeeee!"></textarea>
        <button id="sendMessageBtn" class="arcade-button">SEND MESSAGE</button>
      </div>
    </div>
  </div>

  <!-- Game Over Popup -->
  <div id="gameOverPopup" class="game-popup">
    <div class="popup-content">
      <h2>GAME OVER!</h2>
      <p>An EMMA caught you!</p>
      <button id="tryAgainBtn" class="arcade-button">TRY AGAIN</button>
    </div>
  </div>

  <!-- your game logic + start-button handler -->
  <script src="game.js"></script>
  <!-- Temporary fix for desktop view -->
  <script src="desktop-fix.js"></script>
</body>
</html>
